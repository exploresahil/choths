"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-client_node_modules_sanity_lib__chunks_index-dd3127f7_js"],{

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-366729eb.js":
/*!**************************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/PaneItem-366729eb.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PaneItem\": function() { return /* binding */ PaneItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./desk-492f6e5b.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-492f6e5b.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n\n\n\n\n\n\n\n\n\n\nconst getUnknownTypeFallback = (id, typeName) => ({\n  title: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"No schema found for type \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: typeName\n    })]\n  }),\n  subtitle: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"Document: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: id\n    })]\n  }),\n  media: () => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.WarningOutlineIcon, {})\n});\nfunction MissingSchemaType(props) {\n  const {\n    layout,\n    value\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n    ...getUnknownTypeFallback(value._id, value._type),\n    layout\n  });\n}\nfunction getIconWithFallback(icon, schemaType, defaultIcon) {\n  if (icon === false) {\n    return false;\n  }\n  return icon || schemaType && schemaType.icon || defaultIcon || false;\n}\nfunction PaneItem(props) {\n  const {\n    icon,\n    id,\n    layout = \"default\",\n    pressed,\n    schemaType,\n    selected,\n    title,\n    value,\n    margin,\n    marginBottom,\n    marginTop\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useSchema)();\n  const documentPreviewStore = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPreviewStore)();\n  const {\n    ChildLink\n  } = (0,_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_3__.usePaneRouter)();\n  const documentPresence = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPresence)(id);\n  const hasSchemaType = Boolean(schemaType && schemaType.name && schema.get(schemaType.name));\n  const [clicked, setClicked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const preview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (value && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_8__.isSanityDocument)(value)) {\n      if (!schemaType || !hasSchemaType) {\n        return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MissingSchemaType, {\n          value\n        });\n      }\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_3__.PaneItemPreview, {\n        documentPreviewStore,\n        icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.DocumentIcon),\n        layout,\n        schemaType,\n        value,\n        presence: documentPresence\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n      status: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        muted: true,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.ChevronRightIcon, {})\n      }),\n      icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.FolderIcon),\n      layout,\n      title\n    });\n  }, [documentPreviewStore, hasSchemaType, icon, layout, schemaType, title, value, documentPresence]);\n  const Link = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => function LinkComponent(linkProps) {\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildLink, {\n      ...linkProps,\n      childId: id\n    });\n  }, [ChildLink, id]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setClicked(true), []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => setClicked(false), [selected]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.PreviewCard, {\n    __unstable_focusRing: true,\n    as: Link,\n    \"data-as\": \"a\",\n    \"data-ui\": \"PaneItem\",\n    margin,\n    marginBottom,\n    marginTop,\n    onClick: handleClick,\n    padding: 2,\n    pressed,\n    radius: 2,\n    selected: selected || clicked,\n    sizing: \"border\",\n    tabIndex: -1,\n    tone: \"inherit\",\n    children: preview\n  });\n}\n\n//# sourceMappingURL=PaneItem-366729eb.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9QYW5lSXRlbS0zNjY3MjllYi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ2lEO0FBQzlDO0FBQ2Y7QUFDZ0M7QUFDa0Q7QUFDaEQ7QUFDNUM7QUFDSTtBQUNMO0FBQ3ZCO0FBQ0Esd0JBQXdCLHVEQUFJO0FBQzVCLDJEQUEyRCxzREFBRztBQUM5RDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLHVEQUFJO0FBQy9CLDRDQUE0QyxzREFBRztBQUMvQztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsOEJBQThCLHNEQUFHLENBQUMsNkRBQWtCLElBQUk7QUFDeEQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdCQUF3QixzREFBRyxDQUFDLHdEQUFvQjtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLGlEQUFTO0FBQzFCLCtCQUErQiwrREFBdUI7QUFDdEQ7QUFDQTtBQUNBLElBQUksRUFBRSxnRUFBYTtBQUNuQiwyQkFBMkIsMkRBQW1CO0FBQzlDO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDLGtCQUFrQiw4Q0FBTztBQUN6QixpQkFBaUIsK0RBQWdCO0FBQ2pDO0FBQ0EsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsOERBQWU7QUFDL0M7QUFDQSxvREFBb0QsdURBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwwQkFBMEIsc0RBQUcsQ0FBQyx3REFBb0I7QUFDbEQsNkJBQTZCLHNEQUFHLENBQUMsNENBQUk7QUFDckM7QUFDQSxpQ0FBaUMsc0RBQUcsQ0FBQywyREFBZ0IsSUFBSTtBQUN6RCxPQUFPO0FBQ1Asa0RBQWtELHFEQUFVO0FBQzVEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsOENBQU87QUFDdEIsMEJBQTBCLHNEQUFHO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQyxFQUFFLGdEQUFTO0FBQ1gsd0JBQXdCLHNEQUFHLENBQUMsK0NBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9QYW5lSXRlbS0zNjY3MjllYi5qcz83MzJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IFdhcm5pbmdPdXRsaW5lSWNvbiwgQ2hldnJvblJpZ2h0SWNvbiwgRG9jdW1lbnRJY29uLCBGb2xkZXJJY29uIH0gZnJvbSAnQHNhbml0eS9pY29ucyc7XG5pbXBvcnQgeyBpc1Nhbml0eURvY3VtZW50IH0gZnJvbSAnQHNhbml0eS90eXBlcyc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQHNhbml0eS91aSc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNhbml0eURlZmF1bHRQcmV2aWV3LCB1c2VTY2hlbWEsIHVzZURvY3VtZW50UHJldmlld1N0b3JlLCB1c2VEb2N1bWVudFByZXNlbmNlLCBQcmV2aWV3Q2FyZCB9IGZyb20gJ3Nhbml0eSc7XG5pbXBvcnQgeyB1c2VQYW5lUm91dGVyLCBQYW5lSXRlbVByZXZpZXcgfSBmcm9tICcuL2Rlc2stNDkyZjZlNWIuanMnO1xuaW1wb3J0ICdsb2Rhc2gvb21pdC5qcyc7XG5pbXBvcnQgJ0BzYW5pdHkvdXRpbC9wYXRocyc7XG5pbXBvcnQgJ3Nhbml0eS9yb3V0ZXInO1xuY29uc3QgZ2V0VW5rbm93blR5cGVGYWxsYmFjayA9IChpZCwgdHlwZU5hbWUpID0+ICh7XG4gIHRpdGxlOiAvKiBAX19QVVJFX18gKi9qc3hzKFwiZW1cIiwge1xuICAgIGNoaWxkcmVuOiBbXCJObyBzY2hlbWEgZm91bmQgZm9yIHR5cGUgXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW46IHR5cGVOYW1lXG4gICAgfSldXG4gIH0pLFxuICBzdWJ0aXRsZTogLyogQF9fUFVSRV9fICovanN4cyhcImVtXCIsIHtcbiAgICBjaGlsZHJlbjogW1wiRG9jdW1lbnQ6IFwiLCAvKiBAX19QVVJFX18gKi9qc3goXCJjb2RlXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBpZFxuICAgIH0pXVxuICB9KSxcbiAgbWVkaWE6ICgpID0+IC8qIEBfX1BVUkVfXyAqL2pzeChXYXJuaW5nT3V0bGluZUljb24sIHt9KVxufSk7XG5mdW5jdGlvbiBNaXNzaW5nU2NoZW1hVHlwZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgbGF5b3V0LFxuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTYW5pdHlEZWZhdWx0UHJldmlldywge1xuICAgIC4uLmdldFVua25vd25UeXBlRmFsbGJhY2sodmFsdWUuX2lkLCB2YWx1ZS5fdHlwZSksXG4gICAgbGF5b3V0XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0SWNvbldpdGhGYWxsYmFjayhpY29uLCBzY2hlbWFUeXBlLCBkZWZhdWx0SWNvbikge1xuICBpZiAoaWNvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGljb24gfHwgc2NoZW1hVHlwZSAmJiBzY2hlbWFUeXBlLmljb24gfHwgZGVmYXVsdEljb24gfHwgZmFsc2U7XG59XG5mdW5jdGlvbiBQYW5lSXRlbShwcm9wcykge1xuICBjb25zdCB7XG4gICAgaWNvbixcbiAgICBpZCxcbiAgICBsYXlvdXQgPSBcImRlZmF1bHRcIixcbiAgICBwcmVzc2VkLFxuICAgIHNjaGVtYVR5cGUsXG4gICAgc2VsZWN0ZWQsXG4gICAgdGl0bGUsXG4gICAgdmFsdWUsXG4gICAgbWFyZ2luLFxuICAgIG1hcmdpbkJvdHRvbSxcbiAgICBtYXJnaW5Ub3BcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzY2hlbWEgPSB1c2VTY2hlbWEoKTtcbiAgY29uc3QgZG9jdW1lbnRQcmV2aWV3U3RvcmUgPSB1c2VEb2N1bWVudFByZXZpZXdTdG9yZSgpO1xuICBjb25zdCB7XG4gICAgQ2hpbGRMaW5rXG4gIH0gPSB1c2VQYW5lUm91dGVyKCk7XG4gIGNvbnN0IGRvY3VtZW50UHJlc2VuY2UgPSB1c2VEb2N1bWVudFByZXNlbmNlKGlkKTtcbiAgY29uc3QgaGFzU2NoZW1hVHlwZSA9IEJvb2xlYW4oc2NoZW1hVHlwZSAmJiBzY2hlbWFUeXBlLm5hbWUgJiYgc2NoZW1hLmdldChzY2hlbWFUeXBlLm5hbWUpKTtcbiAgY29uc3QgW2NsaWNrZWQsIHNldENsaWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBwcmV2aWV3ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIGlzU2FuaXR5RG9jdW1lbnQodmFsdWUpKSB7XG4gICAgICBpZiAoIXNjaGVtYVR5cGUgfHwgIWhhc1NjaGVtYVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChNaXNzaW5nU2NoZW1hVHlwZSwge1xuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSXRlbVByZXZpZXcsIHtcbiAgICAgICAgZG9jdW1lbnRQcmV2aWV3U3RvcmUsXG4gICAgICAgIGljb246IGdldEljb25XaXRoRmFsbGJhY2soaWNvbiwgc2NoZW1hVHlwZSwgRG9jdW1lbnRJY29uKSxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBzY2hlbWFUeXBlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgcHJlc2VuY2U6IGRvY3VtZW50UHJlc2VuY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgICBzdGF0dXM6IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENoZXZyb25SaWdodEljb24sIHt9KVxuICAgICAgfSksXG4gICAgICBpY29uOiBnZXRJY29uV2l0aEZhbGxiYWNrKGljb24sIHNjaGVtYVR5cGUsIEZvbGRlckljb24pLFxuICAgICAgbGF5b3V0LFxuICAgICAgdGl0bGVcbiAgICB9KTtcbiAgfSwgW2RvY3VtZW50UHJldmlld1N0b3JlLCBoYXNTY2hlbWFUeXBlLCBpY29uLCBsYXlvdXQsIHNjaGVtYVR5cGUsIHRpdGxlLCB2YWx1ZSwgZG9jdW1lbnRQcmVzZW5jZV0pO1xuICBjb25zdCBMaW5rID0gdXNlTWVtbygoKSA9PiBmdW5jdGlvbiBMaW5rQ29tcG9uZW50KGxpbmtQcm9wcykge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goQ2hpbGRMaW5rLCB7XG4gICAgICAuLi5saW5rUHJvcHMsXG4gICAgICBjaGlsZElkOiBpZFxuICAgIH0pO1xuICB9LCBbQ2hpbGRMaW5rLCBpZF0pO1xuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHNldENsaWNrZWQodHJ1ZSksIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHNldENsaWNrZWQoZmFsc2UpLCBbc2VsZWN0ZWRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQcmV2aWV3Q2FyZCwge1xuICAgIF9fdW5zdGFibGVfZm9jdXNSaW5nOiB0cnVlLFxuICAgIGFzOiBMaW5rLFxuICAgIFwiZGF0YS1hc1wiOiBcImFcIixcbiAgICBcImRhdGEtdWlcIjogXCJQYW5lSXRlbVwiLFxuICAgIG1hcmdpbixcbiAgICBtYXJnaW5Cb3R0b20sXG4gICAgbWFyZ2luVG9wLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIHBhZGRpbmc6IDIsXG4gICAgcHJlc3NlZCxcbiAgICByYWRpdXM6IDIsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkIHx8IGNsaWNrZWQsXG4gICAgc2l6aW5nOiBcImJvcmRlclwiLFxuICAgIHRhYkluZGV4OiAtMSxcbiAgICB0b25lOiBcImluaGVyaXRcIixcbiAgICBjaGlsZHJlbjogcHJldmlld1xuICB9KTtcbn1cbmV4cG9ydCB7IFBhbmVJdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYW5lSXRlbS0zNjY3MjllYi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-366729eb.js\n"));

/***/ }),

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/index-dd3127f7.js":
/*!***********************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/index-dd3127f7.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentListPane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shallow-equals */ \"(app-client)/./node_modules/shallow-equals/index.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(shallow_equals__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEqual.js */ \"(app-client)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! styled-components */ \"(app-client)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/partition.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/take.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/scheduler/async.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/tap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/debounce.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-rx */ \"(app-client)/./node_modules/react-rx/dist/esm/index.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n/* harmony import */ var _desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./desk-492f6e5b.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-492f6e5b.js\");\n/* harmony import */ var _index_7415496d_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-7415496d.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/index-7415496d.js\");\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _PaneItem_366729eb_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaneItem-366729eb.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-366729eb.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isNumber.js */ \"(app-client)/./node_modules/lodash/isNumber.js\");\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isString.js */ \"(app-client)/./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/scan.js\");\n/* harmony import */ var rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs-exhaustmap-with-trailing */ \"(app-client)/./node_modules/rxjs-exhaustmap-with-trailing/dist/esm/index.js\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PARTIAL_PAGE_LIMIT = 100;\nconst FULL_LIST_LIMIT = 2e3;\nconst DEFAULT_ORDERING = {\n  by: [{\n    field: \"_updatedAt\",\n    direction: \"desc\"\n  }]\n};\nconst EMPTY_RECORD = {};\nfunction removePublishedWithDrafts(documents) {\n  return (0,sanity__WEBPACK_IMPORTED_MODULE_9__.collate)(documents).map(entry => {\n    const doc = entry.draft || entry.published;\n    return {\n      ...doc,\n      hasPublished: !!entry.published,\n      hasDraft: !!entry.draft\n    };\n  });\n}\nconst RE_TYPE_NAME_IN_FILTER = /\\b_type\\s*==\\s*(['\"].*?['\"]|\\$.*?(?:\\s|$))|\\B(['\"].*?['\"]|\\$.*?(?:\\s|$))\\s*==\\s*_type\\b/;\nfunction getTypeNameFromSingleTypeFilter(filter) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const matches = filter.match(RE_TYPE_NAME_IN_FILTER);\n  if (!matches) {\n    return null;\n  }\n  const match = (matches[1] || matches[2]).trim().replace(/^[\"']|[\"']$/g, \"\");\n  if (match[0] === \"$\") {\n    const k = match.slice(1);\n    const v = params[k];\n    return typeof v === \"string\" ? v : null;\n  }\n  return match;\n}\nfunction isSimpleTypeFilter(filter) {\n  return /^_type\\s*==\\s*['\"$]\\w+['\"]?\\s*$/.test(filter.trim());\n}\nfunction applyOrderingFunctions(order, schemaType) {\n  const orderBy = order.by.map(by => {\n    if (by.mapWith) {\n      return by;\n    }\n    const fieldType = tryResolveSchemaTypeForPath(schemaType, by.field);\n    if (!fieldType) {\n      return by;\n    }\n    if (fieldExtendsType(fieldType, \"datetime\")) {\n      return {\n        ...by,\n        mapWith: \"dateTime\"\n      };\n    }\n    if (fieldType.jsonType === \"string\") {\n      return {\n        ...by,\n        mapWith: \"lower\"\n      };\n    }\n    return by;\n  });\n  return orderBy.every((item, index) => item === order.by[index]) ? order : {\n    ...order,\n    by: orderBy\n  };\n}\nfunction tryResolveSchemaTypeForPath(baseType, path) {\n  const pathSegments = _sanity_util_paths__WEBPACK_IMPORTED_MODULE_8__.fromString(path);\n  let current = baseType;\n  for (const segment of pathSegments) {\n    if (!current) {\n      return void 0;\n    }\n    if (typeof segment === \"string\") {\n      current = getFieldTypeByName(current, segment);\n      continue;\n    }\n    const isArrayAccessor = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isKeySegment)(segment) || (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isIndexSegment)(segment);\n    if (!isArrayAccessor || current.jsonType !== \"array\") {\n      return void 0;\n    }\n    const [memberType, otherType] = current.of || [];\n    if (otherType || !memberType) {\n      return void 0;\n    }\n    if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isReferenceSchemaType)(memberType)) {\n      current = memberType;\n      continue;\n    }\n    const [refType, otherRefType] = memberType.to || [];\n    if (otherRefType || !refType) {\n      return void 0;\n    }\n    current = refType;\n  }\n  return current;\n}\nfunction getFieldTypeByName(type, fieldName) {\n  if (!(\"fields\" in type)) {\n    return void 0;\n  }\n  const fieldType = type.fields.find(field => field.name === fieldName);\n  return fieldType ? fieldType.type : void 0;\n}\nfunction fieldExtendsType(field, ofType) {\n  let current = field.type;\n  while (current) {\n    if (current.name === ofType) {\n      return true;\n    }\n    if (!current.type && current.jsonType === ofType) {\n      return true;\n    }\n    current = current.type;\n  }\n  return false;\n}\nconst RootBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: relative;\\n\"])));\nconst CommandListBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n\"])));\nconst SKELETON_ITEMS = [...Array(30).keys()];\nfunction LoadingView(props) {\n  const {\n    layout\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n    padding: 2,\n    space: 1,\n    children: SKELETON_ITEMS.map(num => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card, {\n      padding: 2,\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_9__.SanityDefaultPreview, {\n        isPlaceholder: true,\n        layout\n      })\n    }, num))\n  });\n}\nfunction DocumentListPaneContent(props) {\n  const {\n    childItemId,\n    error,\n    filterIsSimpleTypeConstraint,\n    hasMaxItems,\n    hasSearchQuery,\n    isActive,\n    isLazyLoading,\n    isLoading,\n    items,\n    layout,\n    loadingVariant,\n    onListChange,\n    onRetry,\n    searchInputElement,\n    showIcons\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useSchema)();\n  const {\n    collapsed: layoutCollapsed\n  } = (0,_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.usePaneLayout)();\n  const {\n    collapsed,\n    index\n  } = (0,_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.usePane)();\n  const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const handleEndReached = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || isLazyLoading || !shouldRender) return;\n    onListChange();\n  }, [isLazyLoading, isLoading, onListChange, shouldRender]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (collapsed) return void 0;\n    const timer = setTimeout(() => {\n      setShouldRender(true);\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [collapsed, items]);\n  const renderItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((item, _ref) => {\n    let {\n      activeIndex\n    } = _ref;\n    const publishedId = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.getPublishedId)(item._id);\n    const isSelected = childItemId === publishedId;\n    const pressed = !isActive && isSelected;\n    const selected = isActive && isSelected;\n    const isLastItem = activeIndex === items.length - 1;\n    const showSpinner = isLastItem && isLazyLoading;\n    const showMaxItemsMessage = isLastItem && hasMaxItems;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PaneItem_366729eb_js__WEBPACK_IMPORTED_MODULE_10__.PaneItem, {\n        icon: showIcons === false ? false : void 0,\n        id: publishedId,\n        layout,\n        marginBottom: 1,\n        pressed,\n        schemaType: schema.get(item._type),\n        selected,\n        value: item\n      }), showSpinner && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        justify: \"center\",\n        padding: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Spinner, {\n          muted: true\n        })\n      }), showMaxItemsMessage && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n        marginY: 1,\n        paddingX: 3,\n        paddingY: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: [\"Displaying a maximum of \", FULL_LIST_LIMIT, \" documents\"]\n        })\n      })]\n    });\n  }, [childItemId, isActive, items.length, layout, schema, showIcons, hasMaxItems, isLazyLoading]);\n  const noDocumentsContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (hasSearchQuery) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n            paddingX: 4,\n            paddingY: 5,\n            children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              align: \"center\",\n              muted: true,\n              children: \"No results found\"\n            })\n          })\n        })\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n      align: \"center\",\n      direction: \"column\",\n      height: \"fill\",\n      justify: \"center\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n        width: 1,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n          paddingX: 4,\n          paddingY: 5,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n            align: \"center\",\n            muted: true,\n            children: filterIsSimpleTypeConstraint ? \"No documents of this type\" : \"No matching documents\"\n          })\n        })\n      })\n    });\n  }, [filterIsSimpleTypeConstraint, hasSearchQuery]);\n  const mainContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!shouldRender) {\n      return null;\n    }\n    if (error) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n            paddingX: 4,\n            paddingY: 5,\n            space: 4,\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Heading, {\n              as: \"h3\",\n              children: \"Could not fetch list items\"\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              as: \"p\",\n              children: [\"Error: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n                children: error.message\n              })]\n            }), onRetry && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SyncIcon,\n                onClick: onRetry,\n                text: \"Retry\",\n                tone: \"primary\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (!isLoading && items.length === 0) {\n      return noDocumentsContent;\n    }\n    if (loadingVariant === \"initial\" && isLoading) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_index_7415496d_js__WEBPACK_IMPORTED_MODULE_7__.Delay, {\n        ms: 300,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoadingView, {\n          layout\n        })\n      });\n    }\n    if (loadingVariant === \"spinner\" && isLoading) {\n      return null;\n    }\n    const key = \"\".concat(index, \"-\").concat(collapsed);\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RootBox, {\n      overflow: \"hidden\",\n      height: \"fill\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CommandListBox, {\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_9__.CommandList, {\n          activeItemDataAttr: \"data-hovered\",\n          ariaLabel: \"Document list\",\n          canReceiveFocus: true,\n          focusRingOffset: -3,\n          inputElement: searchInputElement,\n          itemHeight: 51,\n          items,\n          onEndReached: handleEndReached,\n          onlyShowSelectionWhenActive: true,\n          overscan: 10,\n          padding: 2,\n          paddingBottom: 1,\n          renderItem,\n          wrapAround: false\n        }, key)\n      })\n    });\n  }, [collapsed, error, handleEndReached, index, isLoading, items, layout, loadingVariant,\n  // noDocumentsContent,\n  onRetry, renderItem, searchInputElement, shouldRender]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.PaneContent, {\n    overflow: layoutCollapsed || loadingVariant === \"initial\" ? \"hidden\" : \"auto\",\n    children: mainContent\n  });\n}\nconst DocumentListPaneHeader = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_ref2 => {\n  let {\n    contentAfter,\n    index,\n    initialValueTemplates = [],\n    menuItemGroups = [],\n    menuItems = [],\n    setLayout,\n    setSortOrder,\n    title\n  } = _ref2;\n  const {\n    features\n  } = (0,_index_7415496d_js__WEBPACK_IMPORTED_MODULE_7__.useDeskTool)();\n  const {\n    collapsed,\n    isLast\n  } = (0,_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.usePane)();\n  const tabIndex = isLast && !collapsed ? -1 : 0;\n  const actionHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return {\n      setLayout: _ref3 => {\n        let {\n          layout: value\n        } = _ref3;\n        setLayout(value);\n      },\n      setSortOrder: sort => {\n        setSortOrder(sort);\n      }\n    };\n  }, [setLayout, setSortOrder]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.PaneHeader, {\n    actions: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.PaneHeaderActions, {\n      initialValueTemplateItems: initialValueTemplates,\n      actionHandlers,\n      menuItemGroups,\n      menuItems\n    }),\n    backButton: features.backButton && index > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n      as: _desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.BackLink,\n      \"data-as\": \"a\",\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.ArrowLeftIcon,\n      mode: \"bleed\"\n    }),\n    contentAfter,\n    tabIndex,\n    title\n  });\n});\nDocumentListPaneHeader.displayName = \"DocumentListPaneHeader\";\nfunction listenSearchQuery(options) {\n  const {\n    client,\n    schema,\n    sort,\n    limit,\n    params,\n    filter,\n    searchQuery,\n    staticTypeNames\n  } = options;\n  const sortBy = sort.by;\n  const extendedProjection = sort == null ? void 0 : sort.extendedProjection;\n  const events$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_19__.defer)(() => {\n    return client.listen(\"*[\".concat(filter, \"]\"), params, {\n      events: [\"welcome\", \"mutation\", \"reconnect\"],\n      includeResult: false,\n      visibility: \"query\"\n    });\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)((ev, i) => {\n    const isFirst = i === 0;\n    if (isFirst && ev.type !== \"welcome\") {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(ev.type === \"reconnect\" ? \"Could not establish EventSource connection\" : \"Received unexpected type of first event \\\"\".concat(ev.type, \"\\\"\")));\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(ev);\n  }), (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.share)());\n  const [welcome$, mutationAndReconnect$] = (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.partition)(events$, ev => ev.type === \"welcome\");\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(welcome$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1)), mutationAndReconnect$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_27__.throttleTime)(1e3, rxjs__WEBPACK_IMPORTED_MODULE_28__.asyncScheduler, {\n    leading: true,\n    trailing: true\n  }))).pipe((0,rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__.exhaustMapWithTrailing)(() => {\n    const typeNames$ = staticTypeNames ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(staticTypeNames) : client.observable.fetch(\"array::unique(*[\".concat(filter, \"][]._type)\"), params);\n    return typeNames$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(typeNames => {\n      const types = typeNames.flatMap(name => schema.get(name) || []);\n      const searchTerms = {\n        filter,\n        query: searchQuery || \"\",\n        types\n      };\n      const searchOptions = {\n        __unstable_extendedProjection: extendedProjection,\n        comments: [\"findability-source: \".concat(searchQuery ? \"list-query\" : \"list\")],\n        limit,\n        params,\n        sort: sortBy\n      };\n      const {\n        query: createdQuery,\n        params: createdParams\n      } = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.createSearchQuery)(searchTerms, searchOptions);\n      return client.observable.fetch(createdQuery, createdParams);\n    }));\n  }));\n}\nconst EMPTY_ARRAY$1 = [];\nconst INITIAL_STATE = {\n  error: null,\n  onRetry: void 0,\n  result: null\n};\nconst INITIAL_QUERY_RESULTS = {\n  result: null,\n  error: null\n};\nfunction useDocumentList(opts) {\n  const {\n    filter,\n    params: paramsProp,\n    sortOrder,\n    searchQuery\n  } = opts;\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useClient)(sanity__WEBPACK_IMPORTED_MODULE_9__.DEFAULT_STUDIO_CLIENT_OPTIONS);\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useSchema)();\n  const [resultState, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(INITIAL_STATE);\n  const {\n    onRetry,\n    error,\n    result\n  } = resultState;\n  const documents = result == null ? void 0 : result.documents;\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => documents ? removePublishedWithDrafts(documents) : EMPTY_ARRAY$1, [documents]);\n  const [isLazyLoading, setIsLazyLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [hasFullList, setHasFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [shouldFetchFullList, setShouldFetchFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const typeNameFromFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, paramsProp), [filter, paramsProp]);\n  const isLoading = result === null && !error;\n  const hasMaxItems = (documents == null ? void 0 : documents.length) === FULL_LIST_LIMIT;\n  const onListChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || hasFullList || shouldFetchFullList) return;\n    setShouldFetchFullList(true);\n  }, [isLoading, hasFullList, shouldFetchFullList]);\n  const handleSetResult = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(res => {\n    var _a, _b;\n    if (res.error) {\n      setResult(res);\n      return;\n    }\n    const documentsLength = ((_b = (_a = res.result) == null ? void 0 : _a.documents) == null ? void 0 : _b.length) || 0;\n    const isLoadingMoreItems = !res.error && (res == null ? void 0 : res.result) === null && shouldFetchFullList;\n    if (isLoadingMoreItems) {\n      setIsLazyLoading(true);\n      return;\n    }\n    if (documentsLength < PARTIAL_PAGE_LIMIT && documentsLength !== 0 && !shouldFetchFullList) {\n      setHasFullList(true);\n    }\n    if ((res == null ? void 0 : res.result) === null) {\n      setResult(prev => ({\n        ...(prev.error ? res : prev)\n      }));\n      return;\n    }\n    setIsLazyLoading(false);\n    setResult(res);\n  }, [shouldFetchFullList]);\n  const queryResults$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const onRetry$ = new rxjs__WEBPACK_IMPORTED_MODULE_29__.Subject();\n    const _onRetry = () => onRetry$.next();\n    const limit = shouldFetchFullList ? FULL_LIST_LIMIT : PARTIAL_PAGE_LIMIT;\n    const sort = sortOrder || DEFAULT_ORDERING;\n    return listenSearchQuery({\n      client,\n      filter,\n      limit,\n      params: paramsProp,\n      schema,\n      searchQuery: searchQuery || \"\",\n      sort,\n      staticTypeNames: typeNameFromFilter ? [typeNameFromFilter] : void 0\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(results => ({\n      result: {\n        documents: results\n      },\n      error: null\n    })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.startWith)(INITIAL_QUERY_RESULTS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)(err => {\n      if (err instanceof ProgressEvent) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(\"Request error\"));\n      }\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => err);\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)((err, caught$) => {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_33__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)({\n        result: null,\n        error: err\n      }), (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_34__.fromEvent)(window, \"online\"), onRetry$).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(() => caught$)));\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.scan)((prev, next) => ({\n      ...prev,\n      ...next,\n      onRetry: _onRetry\n    })));\n  }, [client, filter, paramsProp, schema, searchQuery, shouldFetchFullList, sortOrder, typeNameFromFilter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const sub = queryResults$.subscribe(handleSetResult);\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [handleSetResult, queryResults$]);\n  const reset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setHasFullList(false);\n    setIsLazyLoading(false);\n    setResult(INITIAL_STATE);\n    setShouldFetchFullList(false);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    reset();\n  }, [reset, filter, paramsProp, sortOrder, searchQuery]);\n  return {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady: !error,\n    items,\n    onListChange,\n    onRetry\n  };\n}\nconst EMPTY_ARRAY = [];\nconst rotate = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__.keyframes)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst AnimatedSpinnerIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SpinnerIcon)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  animation: \", \" 500ms linear infinite;\\n\"])), rotate);\nconst SearchCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  [data-ui='TextInput'] {\\n    border-radius: inherit;\\n  }\\n\"])));\nfunction useShallowUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  if (!shallow_equals__WEBPACK_IMPORTED_MODULE_2___default()(valueRef.current, value)) {\n    valueRef.current = value;\n  }\n  return valueRef.current;\n}\nconst addSelectedStateToMenuItems = options => {\n  const {\n    menuItems,\n    sortOrderRaw,\n    layout\n  } = options;\n  return menuItems == null ? void 0 : menuItems.map(item => {\n    var _a, _b, _c, _d;\n    if ((_a = item.params) == null ? void 0 : _a.layout) {\n      return {\n        ...item,\n        selected: layout === ((_b = item.params) == null ? void 0 : _b.layout)\n      };\n    }\n    if ((_c = item == null ? void 0 : item.params) == null ? void 0 : _c.by) {\n      return {\n        ...item,\n        selected: lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default()(sortOrderRaw == null ? void 0 : sortOrderRaw.by, ((_d = item == null ? void 0 : item.params) == null ? void 0 : _d.by) || EMPTY_ARRAY)\n      };\n    }\n    return {\n      ...item,\n      selected: false\n    };\n  });\n};\nconst DocumentListPane = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function DocumentListPane2(props) {\n  const {\n    childItemId,\n    index,\n    isActive,\n    isSelected,\n    pane,\n    paneKey\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useSchema)();\n  const {\n    name: parentSourceName\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useSource)();\n  const {\n    defaultLayout = \"default\",\n    displayOptions,\n    initialValueTemplates = EMPTY_ARRAY,\n    menuItemGroups,\n    menuItems,\n    options,\n    title\n  } = pane;\n  const {\n    apiVersion,\n    defaultOrdering = EMPTY_ARRAY,\n    filter\n  } = options;\n  const params = useShallowUnique(options.params || EMPTY_RECORD);\n  const sourceName = pane.source;\n  const typeName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, params), [filter, params]);\n  const showIcons = (displayOptions == null ? void 0 : displayOptions.showIcons) !== false;\n  const [layout, setLayout] = (0,_index_7415496d_js__WEBPACK_IMPORTED_MODULE_7__.useDeskToolSetting)(typeName, \"layout\", defaultLayout);\n  const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputValue, setSearchInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputElement, setSearchInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const showSearchLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n  const defaultSortOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return (defaultOrdering == null ? void 0 : defaultOrdering.length) > 0 ? {\n      by: defaultOrdering\n    } : DEFAULT_ORDERING;\n  }, [defaultOrdering]);\n  const [sortOrderRaw, setSortOrder] = (0,_index_7415496d_js__WEBPACK_IMPORTED_MODULE_7__.useDeskToolSetting)(typeName, \"sortOrder\", defaultSortOrder);\n  const sortWithOrderingFn = typeName && sortOrderRaw ? applyOrderingFunctions(sortOrderRaw, schema.get(typeName)) : sortOrderRaw;\n  const sortOrder = (0,sanity__WEBPACK_IMPORTED_MODULE_9__.useUnique)(sortWithOrderingFn);\n  const filterIsSimpleTypeConstraint = isSimpleTypeFilter(filter);\n  const {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady,\n    items,\n    onListChange,\n    onRetry\n  } = useDocumentList({\n    apiVersion,\n    filter,\n    params,\n    searchQuery: searchQuery == null ? void 0 : searchQuery.trim(),\n    sortOrder\n  });\n  const menuItemsWithSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => addSelectedStateToMenuItems({\n    menuItems,\n    sortOrderRaw,\n    layout\n  }), [layout, menuItems, sortOrderRaw]);\n  const handleQueryChange = (0,react_rx__WEBPACK_IMPORTED_MODULE_4__.useObservableCallback)(event$ => {\n    return event$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(event => event.target.value), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchInputValue), (0,rxjs__WEBPACK_IMPORTED_MODULE_37__.debounce)(value => value === \"\" ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(\"\") : (0,rxjs__WEBPACK_IMPORTED_MODULE_38__.timer)(300)), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchQuery));\n  }, []);\n  const handleClearSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setSearchQuery(\"\");\n    setSearchInputValue(\"\");\n  }, []);\n  const handleSearchKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event => {\n    if (event.key === \"Escape\") {\n      handleClearSearch();\n    }\n  }, [handleClearSearch]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (showSearchLoadingRef.current === false && !isLoading) {\n      showSearchLoadingRef.current = true;\n    }\n    return () => {\n      showSearchLoadingRef.current = false;\n    };\n  }, [isLoading]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    handleClearSearch();\n    showSearchLoadingRef.current = false;\n  }, [paneKey, handleClearSearch]);\n  const loadingVariant = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const showSpinner = isLoading && items.length === 0 && showSearchLoadingRef.current;\n    if (showSpinner) return \"spinner\";\n    return \"initial\";\n  }, [isLoading, items.length]);\n  const searchInput = /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n    paddingX: 2,\n    paddingBottom: 2,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchCard, {\n      radius: 4,\n      tone: \"transparent\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.TextInput, {\n        \"aria-label\": \"Search list\",\n        autoComplete: \"off\",\n        border: false,\n        clearButton: Boolean(searchQuery),\n        disabled: !isSearchReady,\n        fontSize: [2, 2, 1],\n        icon: loadingVariant === \"spinner\" ? AnimatedSpinnerIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SearchIcon,\n        onChange: handleQueryChange,\n        onClear: handleClearSearch,\n        onKeyDown: handleSearchKeyDown,\n        placeholder: \"Search list\",\n        radius: 2,\n        ref: setSearchInputElement,\n        spellCheck: false,\n        value: searchInputValue\n      })\n    })\n  });\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_9__.SourceProvider, {\n    name: sourceName || parentSourceName,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__.Pane, {\n      currentMaxWidth: 350,\n      \"data-ui\": \"DocumentListPane\",\n      id: paneKey,\n      maxWidth: 640,\n      minWidth: 320,\n      selected: isSelected,\n      children: [_desk_492f6e5b_js__WEBPACK_IMPORTED_MODULE_6__._DEBUG, /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneHeader, {\n        contentAfter: searchInput,\n        index,\n        initialValueTemplates,\n        menuItemGroups,\n        menuItems: menuItemsWithSelectedState,\n        setLayout,\n        setSortOrder,\n        title\n      }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneContent, {\n        childItemId,\n        error,\n        filterIsSimpleTypeConstraint,\n        hasMaxItems,\n        hasSearchQuery: Boolean(searchQuery),\n        isActive,\n        isLazyLoading,\n        isLoading,\n        items,\n        layout,\n        loadingVariant,\n        onListChange,\n        onRetry,\n        searchInputElement,\n        showIcons\n      }, paneKey)]\n    })\n  });\n});\n\n//# sourceMappingURL=index-dd3127f7.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9pbmRleC1kZDMxMjdmNy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxnREFBZ0QsWUFBWSwwQkFBMEIsd0RBQXdELE9BQU8sNkJBQTZCO0FBQzFIO0FBQ3dCO0FBQzBCO0FBQy9EO0FBQ0g7QUFDeUM7QUFDM0I7QUFDOEg7QUFDbkk7QUFDMUI7QUFDeUc7QUFDbkQ7QUFDN0I7QUFDb0M7QUFDOEc7QUFDaEo7QUFDMUI7QUFDSTtBQUNBO0FBQzhFO0FBQ25DO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFZLGFBQWEsOERBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFFQUFxQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QVc7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSCw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLDhDQUFPO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQ0FBcUMsc0RBQUcsQ0FBQyw0Q0FBRztBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLHNEQUFHO0FBQ2hDO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUcsQ0FBQyxrREFBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0RBQVU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNILHdCQUF3QixzREFBRyxDQUFDLGtEQUFjO0FBQzFDO0FBQ0EsNkJBQTZCLHVEQUFJLENBQUMsbURBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFNLGlCQUFpQixzREFBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxrQkFBa0Isc0RBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNzQztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL2luZGV4LWRkMzEyN2Y3LmpzP2I5NzQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF90ZW1wbGF0ZU9iamVjdCwgX3RlbXBsYXRlT2JqZWN0MiwgX3RlbXBsYXRlT2JqZWN0MywgX3RlbXBsYXRlT2JqZWN0NCwgX3RlbXBsYXRlT2JqZWN0NTtcbmZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7IGlmICghcmF3KSB7IHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7IH0gcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgeyByYXc6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KSB9IH0pKTsgfVxuaW1wb3J0IHsganN4cywgRnJhZ21lbnQsIGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCBtZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3gsIEZsZXgsIFNwaW5uZXIsIFRleHQsIENvbnRhaW5lciwgU3RhY2ssIEhlYWRpbmcsIEJ1dHRvbiwgQ2FyZCwgVGV4dElucHV0IH0gZnJvbSAnQHNhbml0eS91aSc7XG5pbXBvcnQgc2hhbGxvd0VxdWFscyBmcm9tICdzaGFsbG93LWVxdWFscyc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbC5qcyc7XG5pbXBvcnQgeyBTeW5jSWNvbiwgQXJyb3dMZWZ0SWNvbiwgU3Bpbm5lckljb24sIFNlYXJjaEljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCBzdHlsZWQsIHsga2V5ZnJhbWVzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmZXIsIG1lcmdlTWFwLCB0aHJvd0Vycm9yLCBvZiwgc2hhcmUsIHBhcnRpdGlvbiwgbWVyZ2UsIHRha2UsIHRocm90dGxlVGltZSwgYXN5bmNTY2hlZHVsZXIsIFN1YmplY3QsIGNvbmNhdCwgZnJvbUV2ZW50LCBtYXAgYXMgbWFwJDEsIHRhcCwgZGVib3VuY2UsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB1c2VPYnNlcnZhYmxlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdC1yeCc7XG5pbXBvcnQgJ3Nhbml0eS9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlUGFuZUxheW91dCwgdXNlUGFuZSwgUGFuZUNvbnRlbnQsIFBhbmVIZWFkZXIsIFBhbmVIZWFkZXJBY3Rpb25zLCBCYWNrTGluaywgUGFuZSwgX0RFQlVHIH0gZnJvbSAnLi9kZXNrLTQ5MmY2ZTViLmpzJztcbmltcG9ydCB7IERlbGF5LCB1c2VEZXNrVG9vbCwgdXNlRGVza1Rvb2xTZXR0aW5nIH0gZnJvbSAnLi9pbmRleC03NDE1NDk2ZC5qcyc7XG5pbXBvcnQgKiBhcyBQYXRoVXRpbHMgZnJvbSAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCB7IGlzS2V5U2VnbWVudCwgaXNJbmRleFNlZ21lbnQsIGlzUmVmZXJlbmNlU2NoZW1hVHlwZSB9IGZyb20gJ0BzYW5pdHkvdHlwZXMnO1xuaW1wb3J0IHsgY29sbGF0ZSwgdXNlU2NoZW1hLCBnZXRQdWJsaXNoZWRJZCwgQ29tbWFuZExpc3QsIFNhbml0eURlZmF1bHRQcmV2aWV3LCBjcmVhdGVTZWFyY2hRdWVyeSwgdXNlQ2xpZW50LCBERUZBVUxUX1NUVURJT19DTElFTlRfT1BUSU9OUywgdXNlU291cmNlLCB1c2VVbmlxdWUsIFNvdXJjZVByb3ZpZGVyIH0gZnJvbSAnc2FuaXR5JztcbmltcG9ydCB7IFBhbmVJdGVtIH0gZnJvbSAnLi9QYW5lSXRlbS0zNjY3MjllYi5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnbG9kYXNoL2lzTnVtYmVyLmpzJztcbmltcG9ydCAnbG9kYXNoL2lzU3RyaW5nLmpzJztcbmltcG9ydCB7IG1hcCwgc3RhcnRXaXRoLCBjYXRjaEVycm9yLCB0YWtlIGFzIHRha2UkMSwgbWVyZ2VNYXAgYXMgbWVyZ2VNYXAkMSwgc2NhbiB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGV4aGF1c3RNYXBXaXRoVHJhaWxpbmcgfSBmcm9tICdyeGpzLWV4aGF1c3RtYXAtd2l0aC10cmFpbGluZyc7XG5jb25zdCBQQVJUSUFMX1BBR0VfTElNSVQgPSAxMDA7XG5jb25zdCBGVUxMX0xJU1RfTElNSVQgPSAyZTM7XG5jb25zdCBERUZBVUxUX09SREVSSU5HID0ge1xuICBieTogW3tcbiAgICBmaWVsZDogXCJfdXBkYXRlZEF0XCIsXG4gICAgZGlyZWN0aW9uOiBcImRlc2NcIlxuICB9XVxufTtcbmNvbnN0IEVNUFRZX1JFQ09SRCA9IHt9O1xuZnVuY3Rpb24gcmVtb3ZlUHVibGlzaGVkV2l0aERyYWZ0cyhkb2N1bWVudHMpIHtcbiAgcmV0dXJuIGNvbGxhdGUoZG9jdW1lbnRzKS5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IGRvYyA9IGVudHJ5LmRyYWZ0IHx8IGVudHJ5LnB1Ymxpc2hlZDtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZG9jLFxuICAgICAgaGFzUHVibGlzaGVkOiAhIWVudHJ5LnB1Ymxpc2hlZCxcbiAgICAgIGhhc0RyYWZ0OiAhIWVudHJ5LmRyYWZ0XG4gICAgfTtcbiAgfSk7XG59XG5jb25zdCBSRV9UWVBFX05BTUVfSU5fRklMVEVSID0gL1xcYl90eXBlXFxzKj09XFxzKihbJ1wiXS4qP1snXCJdfFxcJC4qPyg/Olxcc3wkKSl8XFxCKFsnXCJdLio/WydcIl18XFwkLio/KD86XFxzfCQpKVxccyo9PVxccypfdHlwZVxcYi87XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlcikge1xuICBsZXQgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgY29uc3QgbWF0Y2hlcyA9IGZpbHRlci5tYXRjaChSRV9UWVBFX05BTUVfSU5fRklMVEVSKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSAobWF0Y2hlc1sxXSB8fCBtYXRjaGVzWzJdKS50cmltKCkucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCBcIlwiKTtcbiAgaWYgKG1hdGNoWzBdID09PSBcIiRcIikge1xuICAgIGNvbnN0IGsgPSBtYXRjaC5zbGljZSgxKTtcbiAgICBjb25zdCB2ID0gcGFyYW1zW2tdO1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYgOiBudWxsO1xuICB9XG4gIHJldHVybiBtYXRjaDtcbn1cbmZ1bmN0aW9uIGlzU2ltcGxlVHlwZUZpbHRlcihmaWx0ZXIpIHtcbiAgcmV0dXJuIC9eX3R5cGVcXHMqPT1cXHMqWydcIiRdXFx3K1snXCJdP1xccyokLy50ZXN0KGZpbHRlci50cmltKCkpO1xufVxuZnVuY3Rpb24gYXBwbHlPcmRlcmluZ0Z1bmN0aW9ucyhvcmRlciwgc2NoZW1hVHlwZSkge1xuICBjb25zdCBvcmRlckJ5ID0gb3JkZXIuYnkubWFwKGJ5ID0+IHtcbiAgICBpZiAoYnkubWFwV2l0aCkge1xuICAgICAgcmV0dXJuIGJ5O1xuICAgIH1cbiAgICBjb25zdCBmaWVsZFR5cGUgPSB0cnlSZXNvbHZlU2NoZW1hVHlwZUZvclBhdGgoc2NoZW1hVHlwZSwgYnkuZmllbGQpO1xuICAgIGlmICghZmllbGRUeXBlKSB7XG4gICAgICByZXR1cm4gYnk7XG4gICAgfVxuICAgIGlmIChmaWVsZEV4dGVuZHNUeXBlKGZpZWxkVHlwZSwgXCJkYXRldGltZVwiKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwiZGF0ZVRpbWVcIlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpZWxkVHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwibG93ZXJcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5O1xuICB9KTtcbiAgcmV0dXJuIG9yZGVyQnkuZXZlcnkoKGl0ZW0sIGluZGV4KSA9PiBpdGVtID09PSBvcmRlci5ieVtpbmRleF0pID8gb3JkZXIgOiB7XG4gICAgLi4ub3JkZXIsXG4gICAgYnk6IG9yZGVyQnlcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyeVJlc29sdmVTY2hlbWFUeXBlRm9yUGF0aChiYXNlVHlwZSwgcGF0aCkge1xuICBjb25zdCBwYXRoU2VnbWVudHMgPSBQYXRoVXRpbHMuZnJvbVN0cmluZyhwYXRoKTtcbiAgbGV0IGN1cnJlbnQgPSBiYXNlVHlwZTtcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBhdGhTZWdtZW50cykge1xuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjdXJyZW50ID0gZ2V0RmllbGRUeXBlQnlOYW1lKGN1cnJlbnQsIHNlZ21lbnQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlzQXJyYXlBY2Nlc3NvciA9IGlzS2V5U2VnbWVudChzZWdtZW50KSB8fCBpc0luZGV4U2VnbWVudChzZWdtZW50KTtcbiAgICBpZiAoIWlzQXJyYXlBY2Nlc3NvciB8fCBjdXJyZW50Lmpzb25UeXBlICE9PSBcImFycmF5XCIpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IFttZW1iZXJUeXBlLCBvdGhlclR5cGVdID0gY3VycmVudC5vZiB8fCBbXTtcbiAgICBpZiAob3RoZXJUeXBlIHx8ICFtZW1iZXJUeXBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzUmVmZXJlbmNlU2NoZW1hVHlwZShtZW1iZXJUeXBlKSkge1xuICAgICAgY3VycmVudCA9IG1lbWJlclR5cGU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgW3JlZlR5cGUsIG90aGVyUmVmVHlwZV0gPSBtZW1iZXJUeXBlLnRvIHx8IFtdO1xuICAgIGlmIChvdGhlclJlZlR5cGUgfHwgIXJlZlR5cGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGN1cnJlbnQgPSByZWZUeXBlO1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZ2V0RmllbGRUeXBlQnlOYW1lKHR5cGUsIGZpZWxkTmFtZSkge1xuICBpZiAoIShcImZpZWxkc1wiIGluIHR5cGUpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBmaWVsZFR5cGUgPSB0eXBlLmZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IGZpZWxkTmFtZSk7XG4gIHJldHVybiBmaWVsZFR5cGUgPyBmaWVsZFR5cGUudHlwZSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZpZWxkRXh0ZW5kc1R5cGUoZmllbGQsIG9mVHlwZSkge1xuICBsZXQgY3VycmVudCA9IGZpZWxkLnR5cGU7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgaWYgKGN1cnJlbnQubmFtZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFjdXJyZW50LnR5cGUgJiYgY3VycmVudC5qc29uVHlwZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQudHlwZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBSb290Qm94ID0gc3R5bGVkKEJveCkoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcblwiXSkpKTtcbmNvbnN0IENvbW1hbmRMaXN0Qm94ID0gc3R5bGVkKEJveCkoX3RlbXBsYXRlT2JqZWN0MiB8fCAoX3RlbXBsYXRlT2JqZWN0MiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuXCJdKSkpO1xuY29uc3QgU0tFTEVUT05fSVRFTVMgPSBbLi4uQXJyYXkoMzApLmtleXMoKV07XG5mdW5jdGlvbiBMb2FkaW5nVmlldyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgbGF5b3V0XG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTdGFjaywge1xuICAgIHBhZGRpbmc6IDIsXG4gICAgc3BhY2U6IDEsXG4gICAgY2hpbGRyZW46IFNLRUxFVE9OX0lURU1TLm1hcChudW0gPT4gLyogQF9fUFVSRV9fICovanN4KENhcmQsIHtcbiAgICAgIHBhZGRpbmc6IDIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgICAgIGlzUGxhY2Vob2xkZXI6IHRydWUsXG4gICAgICAgIGxheW91dFxuICAgICAgfSlcbiAgICB9LCBudW0pKVxuICB9KTtcbn1cbmZ1bmN0aW9uIERvY3VtZW50TGlzdFBhbmVDb250ZW50KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZEl0ZW1JZCxcbiAgICBlcnJvcixcbiAgICBmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50LFxuICAgIGhhc01heEl0ZW1zLFxuICAgIGhhc1NlYXJjaFF1ZXJ5LFxuICAgIGlzQWN0aXZlLFxuICAgIGlzTGF6eUxvYWRpbmcsXG4gICAgaXNMb2FkaW5nLFxuICAgIGl0ZW1zLFxuICAgIGxheW91dCxcbiAgICBsb2FkaW5nVmFyaWFudCxcbiAgICBvbkxpc3RDaGFuZ2UsXG4gICAgb25SZXRyeSxcbiAgICBzZWFyY2hJbnB1dEVsZW1lbnQsXG4gICAgc2hvd0ljb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2NoZW1hID0gdXNlU2NoZW1hKCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsYXBzZWQ6IGxheW91dENvbGxhcHNlZFxuICB9ID0gdXNlUGFuZUxheW91dCgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkLFxuICAgIGluZGV4XG4gIH0gPSB1c2VQYW5lKCk7XG4gIGNvbnN0IFtzaG91bGRSZW5kZXIsIHNldFNob3VsZFJlbmRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUVuZFJlYWNoZWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGlzTG9hZGluZyB8fCBpc0xhenlMb2FkaW5nIHx8ICFzaG91bGRSZW5kZXIpIHJldHVybjtcbiAgICBvbkxpc3RDaGFuZ2UoKTtcbiAgfSwgW2lzTGF6eUxvYWRpbmcsIGlzTG9hZGluZywgb25MaXN0Q2hhbmdlLCBzaG91bGRSZW5kZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29sbGFwc2VkKSByZXR1cm4gdm9pZCAwO1xuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRTaG91bGRSZW5kZXIodHJ1ZSk7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfTtcbiAgfSwgW2NvbGxhcHNlZCwgaXRlbXNdKTtcbiAgY29uc3QgcmVuZGVySXRlbSA9IHVzZUNhbGxiYWNrKChpdGVtLCBfcmVmKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGFjdGl2ZUluZGV4XG4gICAgfSA9IF9yZWY7XG4gICAgY29uc3QgcHVibGlzaGVkSWQgPSBnZXRQdWJsaXNoZWRJZChpdGVtLl9pZCk7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IGNoaWxkSXRlbUlkID09PSBwdWJsaXNoZWRJZDtcbiAgICBjb25zdCBwcmVzc2VkID0gIWlzQWN0aXZlICYmIGlzU2VsZWN0ZWQ7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBpc0FjdGl2ZSAmJiBpc1NlbGVjdGVkO1xuICAgIGNvbnN0IGlzTGFzdEl0ZW0gPSBhY3RpdmVJbmRleCA9PT0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBzaG93U3Bpbm5lciA9IGlzTGFzdEl0ZW0gJiYgaXNMYXp5TG9hZGluZztcbiAgICBjb25zdCBzaG93TWF4SXRlbXNNZXNzYWdlID0gaXNMYXN0SXRlbSAmJiBoYXNNYXhJdGVtcztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4cyhGcmFnbWVudCwge1xuICAgICAgY2hpbGRyZW46IFsvKiBAX19QVVJFX18gKi9qc3goUGFuZUl0ZW0sIHtcbiAgICAgICAgaWNvbjogc2hvd0ljb25zID09PSBmYWxzZSA/IGZhbHNlIDogdm9pZCAwLFxuICAgICAgICBpZDogcHVibGlzaGVkSWQsXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiAxLFxuICAgICAgICBwcmVzc2VkLFxuICAgICAgICBzY2hlbWFUeXBlOiBzY2hlbWEuZ2V0KGl0ZW0uX3R5cGUpLFxuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgIH0pLCBzaG93U3Bpbm5lciAmJiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgICAgcGFkZGluZzogNCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChTcGlubmVyLCB7XG4gICAgICAgICAgbXV0ZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pLCBzaG93TWF4SXRlbXNNZXNzYWdlICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgbWFyZ2luWTogMSxcbiAgICAgICAgcGFkZGluZ1g6IDMsXG4gICAgICAgIHBhZGRpbmdZOiA0LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhUZXh0LCB7XG4gICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICBjaGlsZHJlbjogW1wiRGlzcGxheWluZyBhIG1heGltdW0gb2YgXCIsIEZVTExfTElTVF9MSU1JVCwgXCIgZG9jdW1lbnRzXCJdXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KTtcbiAgfSwgW2NoaWxkSXRlbUlkLCBpc0FjdGl2ZSwgaXRlbXMubGVuZ3RoLCBsYXlvdXQsIHNjaGVtYSwgc2hvd0ljb25zLCBoYXNNYXhJdGVtcywgaXNMYXp5TG9hZGluZ10pO1xuICBjb25zdCBub0RvY3VtZW50c0NvbnRlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoaGFzU2VhcmNoUXVlcnkpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbnRhaW5lciwge1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgICBwYWRkaW5nWDogNCxcbiAgICAgICAgICAgIHBhZGRpbmdZOiA1LFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFwiTm8gcmVzdWx0cyBmb3VuZFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChGbGV4LCB7XG4gICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb250YWluZXIsIHtcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgcGFkZGluZ1g6IDQsXG4gICAgICAgICAgcGFkZGluZ1k6IDUsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICAgICAgY2hpbGRyZW46IGZpbHRlcklzU2ltcGxlVHlwZUNvbnN0cmFpbnQgPyBcIk5vIGRvY3VtZW50cyBvZiB0aGlzIHR5cGVcIiA6IFwiTm8gbWF0Y2hpbmcgZG9jdW1lbnRzXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSwgW2ZpbHRlcklzU2ltcGxlVHlwZUNvbnN0cmFpbnQsIGhhc1NlYXJjaFF1ZXJ5XSk7XG4gIGNvbnN0IG1haW5Db250ZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFzaG91bGRSZW5kZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbnRhaW5lciwge1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3hzKFN0YWNrLCB7XG4gICAgICAgICAgICBwYWRkaW5nWDogNCxcbiAgICAgICAgICAgIHBhZGRpbmdZOiA1LFxuICAgICAgICAgICAgc3BhY2U6IDQsXG4gICAgICAgICAgICBjaGlsZHJlbjogWy8qIEBfX1BVUkVfXyAqL2pzeChIZWFkaW5nLCB7XG4gICAgICAgICAgICAgIGFzOiBcImgzXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBcIkNvdWxkIG5vdCBmZXRjaCBsaXN0IGl0ZW1zXCJcbiAgICAgICAgICAgIH0pLCAvKiBAX19QVVJFX18gKi9qc3hzKFRleHQsIHtcbiAgICAgICAgICAgICAgYXM6IFwicFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1wiRXJyb3I6IFwiLCAvKiBAX19QVVJFX18gKi9qc3goXCJjb2RlXCIsIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgIH0pLCBvblJldHJ5ICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChCdXR0b24sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBTeW5jSWNvbixcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBvblJldHJ5LFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiUmV0cnlcIixcbiAgICAgICAgICAgICAgICB0b25lOiBcInByaW1hcnlcIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzTG9hZGluZyAmJiBpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBub0RvY3VtZW50c0NvbnRlbnQ7XG4gICAgfVxuICAgIGlmIChsb2FkaW5nVmFyaWFudCA9PT0gXCJpbml0aWFsXCIgJiYgaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KERlbGF5LCB7XG4gICAgICAgIG1zOiAzMDAsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goTG9hZGluZ1ZpZXcsIHtcbiAgICAgICAgICBsYXlvdXRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobG9hZGluZ1ZhcmlhbnQgPT09IFwic3Bpbm5lclwiICYmIGlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IFwiXCIuY29uY2F0KGluZGV4LCBcIi1cIikuY29uY2F0KGNvbGxhcHNlZCk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChSb290Qm94LCB7XG4gICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbW1hbmRMaXN0Qm94LCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29tbWFuZExpc3QsIHtcbiAgICAgICAgICBhY3RpdmVJdGVtRGF0YUF0dHI6IFwiZGF0YS1ob3ZlcmVkXCIsXG4gICAgICAgICAgYXJpYUxhYmVsOiBcIkRvY3VtZW50IGxpc3RcIixcbiAgICAgICAgICBjYW5SZWNlaXZlRm9jdXM6IHRydWUsXG4gICAgICAgICAgZm9jdXNSaW5nT2Zmc2V0OiAtMyxcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHNlYXJjaElucHV0RWxlbWVudCxcbiAgICAgICAgICBpdGVtSGVpZ2h0OiA1MSxcbiAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICBvbkVuZFJlYWNoZWQ6IGhhbmRsZUVuZFJlYWNoZWQsXG4gICAgICAgICAgb25seVNob3dTZWxlY3Rpb25XaGVuQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIG92ZXJzY2FuOiAxMCxcbiAgICAgICAgICBwYWRkaW5nOiAyLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IDEsXG4gICAgICAgICAgcmVuZGVySXRlbSxcbiAgICAgICAgICB3cmFwQXJvdW5kOiBmYWxzZVxuICAgICAgICB9LCBrZXkpXG4gICAgICB9KVxuICAgIH0pO1xuICB9LCBbY29sbGFwc2VkLCBlcnJvciwgaGFuZGxlRW5kUmVhY2hlZCwgaW5kZXgsIGlzTG9hZGluZywgaXRlbXMsIGxheW91dCwgbG9hZGluZ1ZhcmlhbnQsXG4gIC8vIG5vRG9jdW1lbnRzQ29udGVudCxcbiAgb25SZXRyeSwgcmVuZGVySXRlbSwgc2VhcmNoSW5wdXRFbGVtZW50LCBzaG91bGRSZW5kZXJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lQ29udGVudCwge1xuICAgIG92ZXJmbG93OiBsYXlvdXRDb2xsYXBzZWQgfHwgbG9hZGluZ1ZhcmlhbnQgPT09IFwiaW5pdGlhbFwiID8gXCJoaWRkZW5cIiA6IFwiYXV0b1wiLFxuICAgIGNoaWxkcmVuOiBtYWluQ29udGVudFxuICB9KTtcbn1cbmNvbnN0IERvY3VtZW50TGlzdFBhbmVIZWFkZXIgPSBtZW1vKF9yZWYyID0+IHtcbiAgbGV0IHtcbiAgICBjb250ZW50QWZ0ZXIsXG4gICAgaW5kZXgsXG4gICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzID0gW10sXG4gICAgbWVudUl0ZW1Hcm91cHMgPSBbXSxcbiAgICBtZW51SXRlbXMgPSBbXSxcbiAgICBzZXRMYXlvdXQsXG4gICAgc2V0U29ydE9yZGVyLFxuICAgIHRpdGxlXG4gIH0gPSBfcmVmMjtcbiAgY29uc3Qge1xuICAgIGZlYXR1cmVzXG4gIH0gPSB1c2VEZXNrVG9vbCgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkLFxuICAgIGlzTGFzdFxuICB9ID0gdXNlUGFuZSgpO1xuICBjb25zdCB0YWJJbmRleCA9IGlzTGFzdCAmJiAhY29sbGFwc2VkID8gLTEgOiAwO1xuICBjb25zdCBhY3Rpb25IYW5kbGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzZXRMYXlvdXQ6IF9yZWYzID0+IHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICBsYXlvdXQ6IHZhbHVlXG4gICAgICAgIH0gPSBfcmVmMztcbiAgICAgICAgc2V0TGF5b3V0KHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRTb3J0T3JkZXI6IHNvcnQgPT4ge1xuICAgICAgICBzZXRTb3J0T3JkZXIoc29ydCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3NldExheW91dCwgc2V0U29ydE9yZGVyXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goUGFuZUhlYWRlciwge1xuICAgIGFjdGlvbnM6IC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSGVhZGVyQWN0aW9ucywge1xuICAgICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVJdGVtczogaW5pdGlhbFZhbHVlVGVtcGxhdGVzLFxuICAgICAgYWN0aW9uSGFuZGxlcnMsXG4gICAgICBtZW51SXRlbUdyb3VwcyxcbiAgICAgIG1lbnVJdGVtc1xuICAgIH0pLFxuICAgIGJhY2tCdXR0b246IGZlYXR1cmVzLmJhY2tCdXR0b24gJiYgaW5kZXggPiAwICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCdXR0b24sIHtcbiAgICAgIGFzOiBCYWNrTGluayxcbiAgICAgIFwiZGF0YS1hc1wiOiBcImFcIixcbiAgICAgIGljb246IEFycm93TGVmdEljb24sXG4gICAgICBtb2RlOiBcImJsZWVkXCJcbiAgICB9KSxcbiAgICBjb250ZW50QWZ0ZXIsXG4gICAgdGFiSW5kZXgsXG4gICAgdGl0bGVcbiAgfSk7XG59KTtcbkRvY3VtZW50TGlzdFBhbmVIZWFkZXIuZGlzcGxheU5hbWUgPSBcIkRvY3VtZW50TGlzdFBhbmVIZWFkZXJcIjtcbmZ1bmN0aW9uIGxpc3RlblNlYXJjaFF1ZXJ5KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGNsaWVudCxcbiAgICBzY2hlbWEsXG4gICAgc29ydCxcbiAgICBsaW1pdCxcbiAgICBwYXJhbXMsXG4gICAgZmlsdGVyLFxuICAgIHNlYXJjaFF1ZXJ5LFxuICAgIHN0YXRpY1R5cGVOYW1lc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc29ydEJ5ID0gc29ydC5ieTtcbiAgY29uc3QgZXh0ZW5kZWRQcm9qZWN0aW9uID0gc29ydCA9PSBudWxsID8gdm9pZCAwIDogc29ydC5leHRlbmRlZFByb2plY3Rpb247XG4gIGNvbnN0IGV2ZW50cyQgPSBkZWZlcigoKSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudC5saXN0ZW4oXCIqW1wiLmNvbmNhdChmaWx0ZXIsIFwiXVwiKSwgcGFyYW1zLCB7XG4gICAgICBldmVudHM6IFtcIndlbGNvbWVcIiwgXCJtdXRhdGlvblwiLCBcInJlY29ubmVjdFwiXSxcbiAgICAgIGluY2x1ZGVSZXN1bHQ6IGZhbHNlLFxuICAgICAgdmlzaWJpbGl0eTogXCJxdWVyeVwiXG4gICAgfSk7XG4gIH0pLnBpcGUobWVyZ2VNYXAoKGV2LCBpKSA9PiB7XG4gICAgY29uc3QgaXNGaXJzdCA9IGkgPT09IDA7XG4gICAgaWYgKGlzRmlyc3QgJiYgZXYudHlwZSAhPT0gXCJ3ZWxjb21lXCIpIHtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IG5ldyBFcnJvcihldi50eXBlID09PSBcInJlY29ubmVjdFwiID8gXCJDb3VsZCBub3QgZXN0YWJsaXNoIEV2ZW50U291cmNlIGNvbm5lY3Rpb25cIiA6IFwiUmVjZWl2ZWQgdW5leHBlY3RlZCB0eXBlIG9mIGZpcnN0IGV2ZW50IFxcXCJcIi5jb25jYXQoZXYudHlwZSwgXCJcXFwiXCIpKSk7XG4gICAgfVxuICAgIHJldHVybiBvZihldik7XG4gIH0pLCBzaGFyZSgpKTtcbiAgY29uc3QgW3dlbGNvbWUkLCBtdXRhdGlvbkFuZFJlY29ubmVjdCRdID0gcGFydGl0aW9uKGV2ZW50cyQsIGV2ID0+IGV2LnR5cGUgPT09IFwid2VsY29tZVwiKTtcbiAgcmV0dXJuIG1lcmdlKHdlbGNvbWUkLnBpcGUodGFrZSgxKSksIG11dGF0aW9uQW5kUmVjb25uZWN0JC5waXBlKHRocm90dGxlVGltZSgxZTMsIGFzeW5jU2NoZWR1bGVyLCB7XG4gICAgbGVhZGluZzogdHJ1ZSxcbiAgICB0cmFpbGluZzogdHJ1ZVxuICB9KSkpLnBpcGUoZXhoYXVzdE1hcFdpdGhUcmFpbGluZygoKSA9PiB7XG4gICAgY29uc3QgdHlwZU5hbWVzJCA9IHN0YXRpY1R5cGVOYW1lcyA/IG9mKHN0YXRpY1R5cGVOYW1lcykgOiBjbGllbnQub2JzZXJ2YWJsZS5mZXRjaChcImFycmF5Ojp1bmlxdWUoKltcIi5jb25jYXQoZmlsdGVyLCBcIl1bXS5fdHlwZSlcIiksIHBhcmFtcyk7XG4gICAgcmV0dXJuIHR5cGVOYW1lcyQucGlwZShtZXJnZU1hcCh0eXBlTmFtZXMgPT4ge1xuICAgICAgY29uc3QgdHlwZXMgPSB0eXBlTmFtZXMuZmxhdE1hcChuYW1lID0+IHNjaGVtYS5nZXQobmFtZSkgfHwgW10pO1xuICAgICAgY29uc3Qgc2VhcmNoVGVybXMgPSB7XG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgcXVlcnk6IHNlYXJjaFF1ZXJ5IHx8IFwiXCIsXG4gICAgICAgIHR5cGVzXG4gICAgICB9O1xuICAgICAgY29uc3Qgc2VhcmNoT3B0aW9ucyA9IHtcbiAgICAgICAgX191bnN0YWJsZV9leHRlbmRlZFByb2plY3Rpb246IGV4dGVuZGVkUHJvamVjdGlvbixcbiAgICAgICAgY29tbWVudHM6IFtcImZpbmRhYmlsaXR5LXNvdXJjZTogXCIuY29uY2F0KHNlYXJjaFF1ZXJ5ID8gXCJsaXN0LXF1ZXJ5XCIgOiBcImxpc3RcIildLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBzb3J0OiBzb3J0QnlcbiAgICAgIH07XG4gICAgICBjb25zdCB7XG4gICAgICAgIHF1ZXJ5OiBjcmVhdGVkUXVlcnksXG4gICAgICAgIHBhcmFtczogY3JlYXRlZFBhcmFtc1xuICAgICAgfSA9IGNyZWF0ZVNlYXJjaFF1ZXJ5KHNlYXJjaFRlcm1zLCBzZWFyY2hPcHRpb25zKTtcbiAgICAgIHJldHVybiBjbGllbnQub2JzZXJ2YWJsZS5mZXRjaChjcmVhdGVkUXVlcnksIGNyZWF0ZWRQYXJhbXMpO1xuICAgIH0pKTtcbiAgfSkpO1xufVxuY29uc3QgRU1QVFlfQVJSQVkkMSA9IFtdO1xuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgZXJyb3I6IG51bGwsXG4gIG9uUmV0cnk6IHZvaWQgMCxcbiAgcmVzdWx0OiBudWxsXG59O1xuY29uc3QgSU5JVElBTF9RVUVSWV9SRVNVTFRTID0ge1xuICByZXN1bHQ6IG51bGwsXG4gIGVycm9yOiBudWxsXG59O1xuZnVuY3Rpb24gdXNlRG9jdW1lbnRMaXN0KG9wdHMpIHtcbiAgY29uc3Qge1xuICAgIGZpbHRlcixcbiAgICBwYXJhbXM6IHBhcmFtc1Byb3AsXG4gICAgc29ydE9yZGVyLFxuICAgIHNlYXJjaFF1ZXJ5XG4gIH0gPSBvcHRzO1xuICBjb25zdCBjbGllbnQgPSB1c2VDbGllbnQoREVGQVVMVF9TVFVESU9fQ0xJRU5UX09QVElPTlMpO1xuICBjb25zdCBzY2hlbWEgPSB1c2VTY2hlbWEoKTtcbiAgY29uc3QgW3Jlc3VsdFN0YXRlLCBzZXRSZXN1bHRdID0gdXNlU3RhdGUoSU5JVElBTF9TVEFURSk7XG4gIGNvbnN0IHtcbiAgICBvblJldHJ5LFxuICAgIGVycm9yLFxuICAgIHJlc3VsdFxuICB9ID0gcmVzdWx0U3RhdGU7XG4gIGNvbnN0IGRvY3VtZW50cyA9IHJlc3VsdCA9PSBudWxsID8gdm9pZCAwIDogcmVzdWx0LmRvY3VtZW50cztcbiAgY29uc3QgaXRlbXMgPSB1c2VNZW1vKCgpID0+IGRvY3VtZW50cyA/IHJlbW92ZVB1Ymxpc2hlZFdpdGhEcmFmdHMoZG9jdW1lbnRzKSA6IEVNUFRZX0FSUkFZJDEsIFtkb2N1bWVudHNdKTtcbiAgY29uc3QgW2lzTGF6eUxvYWRpbmcsIHNldElzTGF6eUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaGFzRnVsbExpc3QsIHNldEhhc0Z1bGxMaXN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3VsZEZldGNoRnVsbExpc3QsIHNldFNob3VsZEZldGNoRnVsbExpc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB0eXBlTmFtZUZyb21GaWx0ZXIgPSB1c2VNZW1vKCgpID0+IGdldFR5cGVOYW1lRnJvbVNpbmdsZVR5cGVGaWx0ZXIoZmlsdGVyLCBwYXJhbXNQcm9wKSwgW2ZpbHRlciwgcGFyYW1zUHJvcF0pO1xuICBjb25zdCBpc0xvYWRpbmcgPSByZXN1bHQgPT09IG51bGwgJiYgIWVycm9yO1xuICBjb25zdCBoYXNNYXhJdGVtcyA9IChkb2N1bWVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50cy5sZW5ndGgpID09PSBGVUxMX0xJU1RfTElNSVQ7XG4gIGNvbnN0IG9uTGlzdENoYW5nZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nIHx8IGhhc0Z1bGxMaXN0IHx8IHNob3VsZEZldGNoRnVsbExpc3QpIHJldHVybjtcbiAgICBzZXRTaG91bGRGZXRjaEZ1bGxMaXN0KHRydWUpO1xuICB9LCBbaXNMb2FkaW5nLCBoYXNGdWxsTGlzdCwgc2hvdWxkRmV0Y2hGdWxsTGlzdF0pO1xuICBjb25zdCBoYW5kbGVTZXRSZXN1bHQgPSB1c2VDYWxsYmFjayhyZXMgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgc2V0UmVzdWx0KHJlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRvY3VtZW50c0xlbmd0aCA9ICgoX2IgPSAoX2EgPSByZXMucmVzdWx0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZG9jdW1lbnRzKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGVuZ3RoKSB8fCAwO1xuICAgIGNvbnN0IGlzTG9hZGluZ01vcmVJdGVtcyA9ICFyZXMuZXJyb3IgJiYgKHJlcyA9PSBudWxsID8gdm9pZCAwIDogcmVzLnJlc3VsdCkgPT09IG51bGwgJiYgc2hvdWxkRmV0Y2hGdWxsTGlzdDtcbiAgICBpZiAoaXNMb2FkaW5nTW9yZUl0ZW1zKSB7XG4gICAgICBzZXRJc0xhenlMb2FkaW5nKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnRzTGVuZ3RoIDwgUEFSVElBTF9QQUdFX0xJTUlUICYmIGRvY3VtZW50c0xlbmd0aCAhPT0gMCAmJiAhc2hvdWxkRmV0Y2hGdWxsTGlzdCkge1xuICAgICAgc2V0SGFzRnVsbExpc3QodHJ1ZSk7XG4gICAgfVxuICAgIGlmICgocmVzID09IG51bGwgPyB2b2lkIDAgOiByZXMucmVzdWx0KSA9PT0gbnVsbCkge1xuICAgICAgc2V0UmVzdWx0KHByZXYgPT4gKHtcbiAgICAgICAgLi4uKHByZXYuZXJyb3IgPyByZXMgOiBwcmV2KVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJc0xhenlMb2FkaW5nKGZhbHNlKTtcbiAgICBzZXRSZXN1bHQocmVzKTtcbiAgfSwgW3Nob3VsZEZldGNoRnVsbExpc3RdKTtcbiAgY29uc3QgcXVlcnlSZXN1bHRzJCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG9uUmV0cnkkID0gbmV3IFN1YmplY3QoKTtcbiAgICBjb25zdCBfb25SZXRyeSA9ICgpID0+IG9uUmV0cnkkLm5leHQoKTtcbiAgICBjb25zdCBsaW1pdCA9IHNob3VsZEZldGNoRnVsbExpc3QgPyBGVUxMX0xJU1RfTElNSVQgOiBQQVJUSUFMX1BBR0VfTElNSVQ7XG4gICAgY29uc3Qgc29ydCA9IHNvcnRPcmRlciB8fCBERUZBVUxUX09SREVSSU5HO1xuICAgIHJldHVybiBsaXN0ZW5TZWFyY2hRdWVyeSh7XG4gICAgICBjbGllbnQsXG4gICAgICBmaWx0ZXIsXG4gICAgICBsaW1pdCxcbiAgICAgIHBhcmFtczogcGFyYW1zUHJvcCxcbiAgICAgIHNjaGVtYSxcbiAgICAgIHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSB8fCBcIlwiLFxuICAgICAgc29ydCxcbiAgICAgIHN0YXRpY1R5cGVOYW1lczogdHlwZU5hbWVGcm9tRmlsdGVyID8gW3R5cGVOYW1lRnJvbUZpbHRlcl0gOiB2b2lkIDBcbiAgICB9KS5waXBlKG1hcChyZXN1bHRzID0+ICh7XG4gICAgICByZXN1bHQ6IHtcbiAgICAgICAgZG9jdW1lbnRzOiByZXN1bHRzXG4gICAgICB9LFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9KSksIHN0YXJ0V2l0aChJTklUSUFMX1FVRVJZX1JFU1VMVFMpLCBjYXRjaEVycm9yKGVyciA9PiB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgUHJvZ3Jlc3NFdmVudCkge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcigoKSA9PiBuZXcgRXJyb3IoXCJSZXF1ZXN0IGVycm9yXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IGVycik7XG4gICAgfSksIGNhdGNoRXJyb3IoKGVyciwgY2F1Z2h0JCkgPT4ge1xuICAgICAgcmV0dXJuIGNvbmNhdChvZih7XG4gICAgICAgIHJlc3VsdDogbnVsbCxcbiAgICAgICAgZXJyb3I6IGVyclxuICAgICAgfSksIG1lcmdlKGZyb21FdmVudCh3aW5kb3csIFwib25saW5lXCIpLCBvblJldHJ5JCkucGlwZSh0YWtlJDEoMSksIG1lcmdlTWFwJDEoKCkgPT4gY2F1Z2h0JCkpKTtcbiAgICB9KSwgc2NhbigocHJldiwgbmV4dCkgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICAuLi5uZXh0LFxuICAgICAgb25SZXRyeTogX29uUmV0cnlcbiAgICB9KSkpO1xuICB9LCBbY2xpZW50LCBmaWx0ZXIsIHBhcmFtc1Byb3AsIHNjaGVtYSwgc2VhcmNoUXVlcnksIHNob3VsZEZldGNoRnVsbExpc3QsIHNvcnRPcmRlciwgdHlwZU5hbWVGcm9tRmlsdGVyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3ViID0gcXVlcnlSZXN1bHRzJC5zdWJzY3JpYmUoaGFuZGxlU2V0UmVzdWx0KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW2hhbmRsZVNldFJlc3VsdCwgcXVlcnlSZXN1bHRzJF0pO1xuICBjb25zdCByZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRIYXNGdWxsTGlzdChmYWxzZSk7XG4gICAgc2V0SXNMYXp5TG9hZGluZyhmYWxzZSk7XG4gICAgc2V0UmVzdWx0KElOSVRJQUxfU1RBVEUpO1xuICAgIHNldFNob3VsZEZldGNoRnVsbExpc3QoZmFsc2UpO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzZXQoKTtcbiAgfSwgW3Jlc2V0LCBmaWx0ZXIsIHBhcmFtc1Byb3AsIHNvcnRPcmRlciwgc2VhcmNoUXVlcnldKTtcbiAgcmV0dXJuIHtcbiAgICBlcnJvcixcbiAgICBoYXNNYXhJdGVtcyxcbiAgICBpc0xhenlMb2FkaW5nLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1NlYXJjaFJlYWR5OiAhZXJyb3IsXG4gICAgaXRlbXMsXG4gICAgb25MaXN0Q2hhbmdlLFxuICAgIG9uUmV0cnlcbiAgfTtcbn1cbmNvbnN0IEVNUFRZX0FSUkFZID0gW107XG5jb25zdCByb3RhdGUgPSBrZXlmcmFtZXMoX3RlbXBsYXRlT2JqZWN0MyB8fCAoX3RlbXBsYXRlT2JqZWN0MyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxuXCJdKSkpO1xuY29uc3QgQW5pbWF0ZWRTcGlubmVySWNvbiA9IHN0eWxlZChTcGlubmVySWNvbikoX3RlbXBsYXRlT2JqZWN0NCB8fCAoX3RlbXBsYXRlT2JqZWN0NCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBhbmltYXRpb246IFwiLCBcIiA1MDBtcyBsaW5lYXIgaW5maW5pdGU7XFxuXCJdKSksIHJvdGF0ZSk7XG5jb25zdCBTZWFyY2hDYXJkID0gc3R5bGVkKENhcmQpKF90ZW1wbGF0ZU9iamVjdDUgfHwgKF90ZW1wbGF0ZU9iamVjdDUgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgW2RhdGEtdWk9J1RleHRJbnB1dCddIHtcXG4gICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcXG4gIH1cXG5cIl0pKSk7XG5mdW5jdGlvbiB1c2VTaGFsbG93VW5pcXVlKHZhbHVlKSB7XG4gIGNvbnN0IHZhbHVlUmVmID0gdXNlUmVmKHZhbHVlKTtcbiAgaWYgKCFzaGFsbG93RXF1YWxzKHZhbHVlUmVmLmN1cnJlbnQsIHZhbHVlKSkge1xuICAgIHZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWVSZWYuY3VycmVudDtcbn1cbmNvbnN0IGFkZFNlbGVjdGVkU3RhdGVUb01lbnVJdGVtcyA9IG9wdGlvbnMgPT4ge1xuICBjb25zdCB7XG4gICAgbWVudUl0ZW1zLFxuICAgIHNvcnRPcmRlclJhdyxcbiAgICBsYXlvdXRcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiBtZW51SXRlbXMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbnVJdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmICgoX2EgPSBpdGVtLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxheW91dCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgc2VsZWN0ZWQ6IGxheW91dCA9PT0gKChfYiA9IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGF5b3V0KVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKChfYyA9IGl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2MuYnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHNlbGVjdGVkOiBpc0VxdWFsKHNvcnRPcmRlclJhdyA9PSBudWxsID8gdm9pZCAwIDogc29ydE9yZGVyUmF3LmJ5LCAoKF9kID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5ieSkgfHwgRU1QVFlfQVJSQVkpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXRlbSxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZVxuICAgIH07XG4gIH0pO1xufTtcbmNvbnN0IERvY3VtZW50TGlzdFBhbmUgPSBtZW1vKGZ1bmN0aW9uIERvY3VtZW50TGlzdFBhbmUyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZEl0ZW1JZCxcbiAgICBpbmRleCxcbiAgICBpc0FjdGl2ZSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHBhbmUsXG4gICAgcGFuZUtleVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCB7XG4gICAgbmFtZTogcGFyZW50U291cmNlTmFtZVxuICB9ID0gdXNlU291cmNlKCk7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0TGF5b3V0ID0gXCJkZWZhdWx0XCIsXG4gICAgZGlzcGxheU9wdGlvbnMsXG4gICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzID0gRU1QVFlfQVJSQVksXG4gICAgbWVudUl0ZW1Hcm91cHMsXG4gICAgbWVudUl0ZW1zLFxuICAgIG9wdGlvbnMsXG4gICAgdGl0bGVcbiAgfSA9IHBhbmU7XG4gIGNvbnN0IHtcbiAgICBhcGlWZXJzaW9uLFxuICAgIGRlZmF1bHRPcmRlcmluZyA9IEVNUFRZX0FSUkFZLFxuICAgIGZpbHRlclxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGFyYW1zID0gdXNlU2hhbGxvd1VuaXF1ZShvcHRpb25zLnBhcmFtcyB8fCBFTVBUWV9SRUNPUkQpO1xuICBjb25zdCBzb3VyY2VOYW1lID0gcGFuZS5zb3VyY2U7XG4gIGNvbnN0IHR5cGVOYW1lID0gdXNlTWVtbygoKSA9PiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlciwgcGFyYW1zKSwgW2ZpbHRlciwgcGFyYW1zXSk7XG4gIGNvbnN0IHNob3dJY29ucyA9IChkaXNwbGF5T3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogZGlzcGxheU9wdGlvbnMuc2hvd0ljb25zKSAhPT0gZmFsc2U7XG4gIGNvbnN0IFtsYXlvdXQsIHNldExheW91dF0gPSB1c2VEZXNrVG9vbFNldHRpbmcodHlwZU5hbWUsIFwibGF5b3V0XCIsIGRlZmF1bHRMYXlvdXQpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VhcmNoSW5wdXRWYWx1ZSwgc2V0U2VhcmNoSW5wdXRWYWx1ZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlYXJjaElucHV0RWxlbWVudCwgc2V0U2VhcmNoSW5wdXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzaG93U2VhcmNoTG9hZGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGRlZmF1bHRTb3J0T3JkZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKGRlZmF1bHRPcmRlcmluZyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdE9yZGVyaW5nLmxlbmd0aCkgPiAwID8ge1xuICAgICAgYnk6IGRlZmF1bHRPcmRlcmluZ1xuICAgIH0gOiBERUZBVUxUX09SREVSSU5HO1xuICB9LCBbZGVmYXVsdE9yZGVyaW5nXSk7XG4gIGNvbnN0IFtzb3J0T3JkZXJSYXcsIHNldFNvcnRPcmRlcl0gPSB1c2VEZXNrVG9vbFNldHRpbmcodHlwZU5hbWUsIFwic29ydE9yZGVyXCIsIGRlZmF1bHRTb3J0T3JkZXIpO1xuICBjb25zdCBzb3J0V2l0aE9yZGVyaW5nRm4gPSB0eXBlTmFtZSAmJiBzb3J0T3JkZXJSYXcgPyBhcHBseU9yZGVyaW5nRnVuY3Rpb25zKHNvcnRPcmRlclJhdywgc2NoZW1hLmdldCh0eXBlTmFtZSkpIDogc29ydE9yZGVyUmF3O1xuICBjb25zdCBzb3J0T3JkZXIgPSB1c2VVbmlxdWUoc29ydFdpdGhPcmRlcmluZ0ZuKTtcbiAgY29uc3QgZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCA9IGlzU2ltcGxlVHlwZUZpbHRlcihmaWx0ZXIpO1xuICBjb25zdCB7XG4gICAgZXJyb3IsXG4gICAgaGFzTWF4SXRlbXMsXG4gICAgaXNMYXp5TG9hZGluZyxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNTZWFyY2hSZWFkeSxcbiAgICBpdGVtcyxcbiAgICBvbkxpc3RDaGFuZ2UsXG4gICAgb25SZXRyeVxuICB9ID0gdXNlRG9jdW1lbnRMaXN0KHtcbiAgICBhcGlWZXJzaW9uLFxuICAgIGZpbHRlcixcbiAgICBwYXJhbXMsXG4gICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5ID09IG51bGwgPyB2b2lkIDAgOiBzZWFyY2hRdWVyeS50cmltKCksXG4gICAgc29ydE9yZGVyXG4gIH0pO1xuICBjb25zdCBtZW51SXRlbXNXaXRoU2VsZWN0ZWRTdGF0ZSA9IHVzZU1lbW8oKCkgPT4gYWRkU2VsZWN0ZWRTdGF0ZVRvTWVudUl0ZW1zKHtcbiAgICBtZW51SXRlbXMsXG4gICAgc29ydE9yZGVyUmF3LFxuICAgIGxheW91dFxuICB9KSwgW2xheW91dCwgbWVudUl0ZW1zLCBzb3J0T3JkZXJSYXddKTtcbiAgY29uc3QgaGFuZGxlUXVlcnlDaGFuZ2UgPSB1c2VPYnNlcnZhYmxlQ2FsbGJhY2soZXZlbnQkID0+IHtcbiAgICByZXR1cm4gZXZlbnQkLnBpcGUobWFwJDEoZXZlbnQgPT4gZXZlbnQudGFyZ2V0LnZhbHVlKSwgdGFwKHNldFNlYXJjaElucHV0VmFsdWUpLCBkZWJvdW5jZSh2YWx1ZSA9PiB2YWx1ZSA9PT0gXCJcIiA/IG9mKFwiXCIpIDogdGltZXIoMzAwKSksIHRhcChzZXRTZWFyY2hRdWVyeSkpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZUNsZWFyU2VhcmNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNlYXJjaFF1ZXJ5KFwiXCIpO1xuICAgIHNldFNlYXJjaElucHV0VmFsdWUoXCJcIik7XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlU2VhcmNoS2V5RG93biA9IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBoYW5kbGVDbGVhclNlYXJjaCgpO1xuICAgIH1cbiAgfSwgW2hhbmRsZUNsZWFyU2VhcmNoXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPT09IGZhbHNlICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtpc0xvYWRpbmddKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBoYW5kbGVDbGVhclNlYXJjaCgpO1xuICAgIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgfSwgW3BhbmVLZXksIGhhbmRsZUNsZWFyU2VhcmNoXSk7XG4gIGNvbnN0IGxvYWRpbmdWYXJpYW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2hvd1NwaW5uZXIgPSBpc0xvYWRpbmcgJiYgaXRlbXMubGVuZ3RoID09PSAwICYmIHNob3dTZWFyY2hMb2FkaW5nUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHNob3dTcGlubmVyKSByZXR1cm4gXCJzcGlubmVyXCI7XG4gICAgcmV0dXJuIFwiaW5pdGlhbFwiO1xuICB9LCBbaXNMb2FkaW5nLCBpdGVtcy5sZW5ndGhdKTtcbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgcGFkZGluZ1g6IDIsXG4gICAgcGFkZGluZ0JvdHRvbTogMixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFNlYXJjaENhcmQsIHtcbiAgICAgIHJhZGl1czogNCxcbiAgICAgIHRvbmU6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goVGV4dElucHV0LCB7XG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIlNlYXJjaCBsaXN0XCIsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgYm9yZGVyOiBmYWxzZSxcbiAgICAgICAgY2xlYXJCdXR0b246IEJvb2xlYW4oc2VhcmNoUXVlcnkpLFxuICAgICAgICBkaXNhYmxlZDogIWlzU2VhcmNoUmVhZHksXG4gICAgICAgIGZvbnRTaXplOiBbMiwgMiwgMV0sXG4gICAgICAgIGljb246IGxvYWRpbmdWYXJpYW50ID09PSBcInNwaW5uZXJcIiA/IEFuaW1hdGVkU3Bpbm5lckljb24gOiBTZWFyY2hJY29uLFxuICAgICAgICBvbkNoYW5nZTogaGFuZGxlUXVlcnlDaGFuZ2UsXG4gICAgICAgIG9uQ2xlYXI6IGhhbmRsZUNsZWFyU2VhcmNoLFxuICAgICAgICBvbktleURvd246IGhhbmRsZVNlYXJjaEtleURvd24sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlNlYXJjaCBsaXN0XCIsXG4gICAgICAgIHJhZGl1czogMixcbiAgICAgICAgcmVmOiBzZXRTZWFyY2hJbnB1dEVsZW1lbnQsXG4gICAgICAgIHNwZWxsQ2hlY2s6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogc2VhcmNoSW5wdXRWYWx1ZVxuICAgICAgfSlcbiAgICB9KVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTb3VyY2VQcm92aWRlciwge1xuICAgIG5hbWU6IHNvdXJjZU5hbWUgfHwgcGFyZW50U291cmNlTmFtZSxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhQYW5lLCB7XG4gICAgICBjdXJyZW50TWF4V2lkdGg6IDM1MCxcbiAgICAgIFwiZGF0YS11aVwiOiBcIkRvY3VtZW50TGlzdFBhbmVcIixcbiAgICAgIGlkOiBwYW5lS2V5LFxuICAgICAgbWF4V2lkdGg6IDY0MCxcbiAgICAgIG1pbldpZHRoOiAzMjAsXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgIGNoaWxkcmVuOiBbX0RFQlVHLCAvKiBAX19QVVJFX18gKi9qc3goRG9jdW1lbnRMaXN0UGFuZUhlYWRlciwge1xuICAgICAgICBjb250ZW50QWZ0ZXI6IHNlYXJjaElucHV0LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzLFxuICAgICAgICBtZW51SXRlbUdyb3VwcyxcbiAgICAgICAgbWVudUl0ZW1zOiBtZW51SXRlbXNXaXRoU2VsZWN0ZWRTdGF0ZSxcbiAgICAgICAgc2V0TGF5b3V0LFxuICAgICAgICBzZXRTb3J0T3JkZXIsXG4gICAgICAgIHRpdGxlXG4gICAgICB9KSwgLyogQF9fUFVSRV9fICovanN4KERvY3VtZW50TGlzdFBhbmVDb250ZW50LCB7XG4gICAgICAgIGNoaWxkSXRlbUlkLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZmlsdGVySXNTaW1wbGVUeXBlQ29uc3RyYWludCxcbiAgICAgICAgaGFzTWF4SXRlbXMsXG4gICAgICAgIGhhc1NlYXJjaFF1ZXJ5OiBCb29sZWFuKHNlYXJjaFF1ZXJ5KSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIGlzTGF6eUxvYWRpbmcsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgbG9hZGluZ1ZhcmlhbnQsXG4gICAgICAgIG9uTGlzdENoYW5nZSxcbiAgICAgICAgb25SZXRyeSxcbiAgICAgICAgc2VhcmNoSW5wdXRFbGVtZW50LFxuICAgICAgICBzaG93SWNvbnNcbiAgICAgIH0sIHBhbmVLZXkpXVxuICAgIH0pXG4gIH0pO1xufSk7XG5leHBvcnQgeyBEb2N1bWVudExpc3RQYW5lIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LWRkMzEyN2Y3LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/index-dd3127f7.js\n"));

/***/ })

}]);